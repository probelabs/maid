<svg xmlns="http://www.w3.org/2000/svg" width="791" height="562" viewBox="0 0 791 562">
  <rect x="0" y="0" width="791" height="562" fill="#ffffff" />
  <defs>
    <marker id="arrow" markerWidth="6" markerHeight="6" refX="5" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L6,3 z" fill="#555555" />
    </marker>
    <marker id="circle-marker" markerWidth="6" markerHeight="6" refX="3" refY="3" orient="auto" markerUnits="strokeWidth">
      <circle cx="3" cy="3" r="3" fill="#555555" />
    </marker>
  </defs>
  <g class="subgraph-boxes"><rect x="16" y="-2" width="759" height="548" rx="4" ry="4" fill="#fffbe6" stroke="#cfcf99" stroke-width="1" /></g>
  <g class="subgraph-titles"><text x="395.5" y="16" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#333">API Loader : Custom Authentication Processing</text></g>
  <path d="M323,92 C323,96.16666666666667 323,109.66666666666667 323,117 C323,124.33333333333333 323,132.83333333333334 323,136" stroke="#555555" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round" marker-end="url(#arrow)" />
  <path d="M243.16326530612247,190 C229.3027210884354,194.16666666666666 173.86054421768708,206.83333333333334 160,215 C146.13945578231292,223.16666666666666 160,235 160,239" stroke="#555555" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round" marker-end="url(#arrow)" />
  <path d="M402.83673469387753,190 C416.6972789115646,194.16666666666666 472.1394557823129,207.66666666666666 486,215 C499.8605442176871,222.33333333333334 486,230.83333333333334 486,234" stroke="#555555" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round" marker-end="url(#arrow)" />
  <path d="M405.7321428571429,302 C394.9434523809524,306.1666666666667 351.7886904761905,319.6666666666667 341,327 C330.2113095238095,334.3333333333333 341,342.8333333333333 341,346" stroke="#555555" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round" marker-end="url(#arrow)" />
  <path d="M341,404 C341,408.1666666666667 341,421.6666666666667 341,429 C341,436.3333333333333 341,444.8333333333333 341,448" stroke="#555555" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round" marker-end="url(#arrow)" />
  <path d="M566.2678571428571,302 C577.0565476190476,306.1666666666667 620.2113095238095,319.6666666666667 631,327 C641.7886904761905,334.3333333333333 631,342.8333333333333 631,346" stroke="#555555" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round" marker-end="url(#arrow)" />
  <path d="M631,404 C631,408.1666666666667 631,420.3333333333333 631,429 C631,437.6666666666667 631,451.5 631,456" stroke="#555555" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round" marker-end="url(#arrow)" />
  <g id="A">
    <rect x="203" y="40" width="240" height="52" rx="0" ry="0" stroke="#3f3f3f" stroke-width="1.5" fill="#eef0ff" />
    <text x="323" y="70.9" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#333">Start processing API definition</text>
  </g>
  <g id="B">
    <polygon points="323,142 444.5,166 323,190 201.5,166" stroke="#3f3f3f" stroke-width="1.5" fill="#eef0ff" />
    <text x="323" y="170.9" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#333">Custom Auth Enabled ?</text>
  </g>
  <g id="C">
    <rect x="40" y="245" width="240" height="52" rx="0" ry="0" stroke="#3f3f3f" stroke-width="1.5" fill="#eef0ff" />
    <text font-family="Arial, sans-serif" font-size="14" fill="#333">
    <tspan x="160" y="267.9" text-anchor="middle">Continue with other auth</tspan>
    <tspan x="160" y="283.9" text-anchor="middle">methods</tspan>
  </text>
  </g>
  <g id="D">
    <polygon points="486,240 642,271 486,302 330,271" stroke="#3f3f3f" stroke-width="1.5" fill="#eef0ff" />
    <text font-family="Arial, sans-serif" font-size="14" fill="#333">
    <tspan x="486" y="267.9" text-anchor="middle">Is Driver AND AuthCheck .Path configured</tspan>
    <tspan x="486" y="283.9" text-anchor="middle">?</tspan>
  </text>
  </g>
  <g id="E">
    <rect x="221" y="352" width="240" height="52" rx="0" ry="0" stroke="#3f3f3f" stroke-width="1.5" fill="#eef0ff" />
    <text font-family="Arial, sans-serif" font-size="14" fill="#333">
    <tspan x="341" y="374.9" text-anchor="middle">Inject</tspan>
    <tspan x="341" y="390.9" text-anchor="middle">PluginAuthGatekeeperMiddleware</tspan>
  </text>
  </g>
  <g id="F">
    <rect x="221" y="454" width="240" height="68" rx="0" ry="0" stroke="#3f3f3f" stroke-width="1.5" fill="#eef0ff" />
    <text font-family="Arial, sans-serif" font-size="14" fill="#333">
    <tspan x="341" y="476.9" text-anchor="middle">API is now blocked . All</tspan>
    <tspan x="341" y="492.9" text-anchor="middle">requests will be rejected with</tspan>
    <tspan x="341" y="508.9" text-anchor="middle">403 Forbidden .</tspan>
  </text>
  </g>
  <g id="G">
    <rect x="511" y="352" width="240" height="52" rx="0" ry="0" stroke="#3f3f3f" stroke-width="1.5" fill="#eef0ff" />
    <text font-family="Arial, sans-serif" font-size="14" fill="#333">
    <tspan x="631" y="374.9" text-anchor="middle">Load configured custom auth</tspan>
    <tspan x="631" y="390.9" text-anchor="middle">plugin</tspan>
  </text>
  </g>
  <g id="H">
    <rect x="511" y="462" width="240" height="52" rx="0" ry="0" stroke="#3f3f3f" stroke-width="1.5" fill="#eef0ff" />
    <text font-family="Arial, sans-serif" font-size="14" fill="#333">
    <tspan x="631" y="484.9" text-anchor="middle">Add custom auth plugin to</tspan>
    <tspan x="631" y="500.9" text-anchor="middle">middleware chain</tspan>
  </text>
  </g>
</svg>